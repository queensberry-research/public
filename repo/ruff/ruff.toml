target-version = "py312"
unsafe-fixes = true

[format]
preview = true
skip-magic-trailing-comma = true

[lint]
explicit-preview-rules = true
fixable = ["ALL"]
ignore = [
  "ANN401",  # any-type
  "ASYNC109",  # async-function-with-timeout
  "C901",  # complex-structure
  "CPY001",  # missing-copyright-notice
  "D100",  # undocumented-public-module
  "D101",  # undocumented-public-class
  "D102",  # undocumented-public-method
  "D103",  # undocumented-public-function
  "D104",  # undocumented-public-package
  "D105",  # undocumented-magic-method
  "D106",  # undocumented-public-nested-class
  "D107",  # undocumented-public-init
  "D203",  # one-blank-line-before-class
  "D213",  # multi-line-summary-second-line
  "E501",  # line-too-long
  "PD",  # pandas-vet
  "PERF203",  # try-except-in-loop
  "PLC0415",  # import-outside-top-level
  "PLE1205",  # logging-too-many-args
  "PLR0904",  # too-many-public-methods
  "PLR0911",  # too-many-return-statements
  "PLR0912",  # too-many-branches
  "PLR0913",  # too-many-arguments
  "PLR0915",  # too-many-statements
  "PLR2004",  # magic-value-comparison
  "PT012",  # pytest-raises-with-multiple-statements
  "PT013",  # pytest-incorrect-pytest-import
  "PYI041",  # redundant-numeric-union
  "S311",  # suspicious-non-cryptographic-random-usage
  "S602",  # subprocess-popen-with-shell-equals-true
  "S603",  # subprocess-without-shell-equals-true
  "S607",  # start-process-with-partial-path
  "TC001",  # typing-only-first-party-import
  "TC002",  # typing-only-third-party-import
  "TC003",  # typing-only-standard-library-import
  # preview
  "S101",  # assert
  # formatter
  "W191",  # tab-indentation
  "E111",  # indentation-with-invalid-multiple
  "E114",  # indentation-with-invalid-multiple-comment
  "E117",  # over-indented
  "D206",  # indent-with-spaces
  "D300",  # triple-single-quotes
  "Q000",  # bad-quotes-inline-string
  "Q001",  # bad-quotes-multiline-string
  "Q002",  # bad-quotes-docstring
  "Q003",  # avoidable-escaped-quote
  "COM812",  # missing-trailing-comma
  "COM819",  # prohibited-trailing-comma
  "ISC001",  # single-line-implicit-string-concatenation
  "ISC002",  # multi-line-implicit-string-concatenation
]
preview = true
select = [
  "ALL",
  # preview
  "RUF022",  # unsorted-dunder-all
  "RUF029",  # unused-async
]

[lint.extend-per-file-ignores]
"**/tests/**/*.py" = [
  "S101",  # assert
  "SLF001",  # private-member-access
]
"notebooks/*.py" = ["INP001"]  # implicit-namespace-package
"src/dts/data/static.py" = ["RUF001"]  # ambiguous-unicode-character-string

[lint.flake8-bugbear]
extend-immutable-calls = ["typing.cast"]

[lint.flake8-tidy-imports]
ban-relative-imports = "all"

[lint.isort]
split-on-trailing-comma = false
